---
title: globalCompositeOperation属性演示
comments: false
---

    <canvas id="canvas" style="height:100%;width:100%;border: 1px solid #aaa; display: block; margin: 50px auto;"></canvas>
    <ul id="buttons">
      <li><a href="#">source-over</a></li>
      <li><a href="#">source-atop</a></li>
      <li><a href="#">source-in</a></li>
      <li><a href="#">source-out</a></li>
      <li><a href="#">destination-over</a></li>
      <li><a href="#">destination-atop</a></li>
      <li><a href="#">destination-in</a></li>
      <li><a href="#">destination-out</a></li>
      <li><a href="#">lighter</a></li>
      <li><a href="#">copy</a></li>
      <li><a href="#">xor</a></li>
    </ul>
    <script>
run()
function run() {
  draw("source-over");

  var buttons = document.getElementById("buttons").getElementsByTagName("a");
  for(var i=0; i<buttons.length; i++){
    buttons[i].onclick = function(){
      draw(this.text);
      return false;
    }
  }
}

function draw(compositeStyle){
  var canvas = document.getElementById("canvas");
  canvas.width = 1200;
  canvas.height = 800;

  var context = canvas.getContext("2d");
  context.clearRect(0, 0, canvas.width, canvas.height);

  //draw title
  context.font = "bold 40px Arial";
  context.textAlign = "center";
  context.textBaseline = "middle";
  context.fillStyle = "#058";
  context.fillText("globalCompositeOperation = " + compositeStyle, canvas.width/2, 60);

  //draw a rect
  context.fillStyle = "blue";
  context.fillRect(300, 150, 500, 500);

  //draw a triangle
  context.globalCompositeOperation = compositeStyle;
  context.fillStyle = "red";
  context.beginPath();
  context.moveTo(700, 250);
  context.lineTo(1000, 750);
  context.lineTo(400, 750);
  context.closePath();
  context.fill();
}
    </script>
<style>
#buttons {
  width: 1200px;
  margin: 10px auto;
  clear: both;
}
#buttons a {
  font-size: 18px;
  display: block;
  margin-right: 14px;
}
</style>
